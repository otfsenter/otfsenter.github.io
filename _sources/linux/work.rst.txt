.. _linux-work:

Work
================


代码的自动部署
---------------

jenkins 自动话拉取代码、测试、打包、部署

自动化运维
------------

使用ansible控制多台服务器，临时的用 ad-hoc 来操作，常用的操作使用 playbook 写成配置文件，自动化平时的一些运维操作

中间件的运维
-------------

* redis

* Cassandra

* kafka

上面的主要是热点key、大key的优化，消息队列的堆积，双云的差异率

微服务
-------

每个业务单元一套服务，对外通过url+端口的方式提供服务,这样哪个业务中断了，只要单独重启一个服务即可


这里配合使用docker，k8s更加易维护。

接口
------

每个接口要关注的字段，接口的监控等级，

成功率

业务的情况

时延监控

进程的自启动
--------------

使用 watchdog 自启 tomcat进程、nginx进程

端口的监控如果挂死，watchdog自动恢复

系统资源的监控
----------------

zabbix 监控CPU、内存、磁盘IO读写等系统资源

巡检
-------

例行的巡检可以写shell或者python脚本定时任务执行，每周发健康周报

常发生的问题
-------------

* java 内存泄漏

造成的服务器不可用，在生产环境时有发生，服务器要做HA高可用，或者用nginx做负载均衡

* 各种第三方包版本不对引起的bug

打包之前，验证各个jar包的版本

* 接口的降级

访问量过大的时候，不重要的接口直接返回错误，客户端要对应做修改



